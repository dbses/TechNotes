# 25 | 服务安全：微服务访问安全需求和实现方案？

**微服务架构中的安全性设计**

对于微服务架构而言，安全性设计的最核心考虑点还是认证（Authentication）和授权（Authorization）。

1. 认证与授权

所谓认证，解决的是“你是谁”这一个问题。一旦明确 “你是谁”之后，下一步就可以判断“你能做什么”，这个步骤就是授权。

<img src="https://gitee.com/yanglu_u/ImgRepository/raw/master/images/20210317232529.png" alt="image-20210317232529450" style="zoom:50%;" />

上图代表的是一种通用方案。微服务架构中的认证和授权模型与上图中的类似，但在具体设计和实现过程中也有其特殊性。

2. 微服务架构中的认证与授权

微服务架构中存在一个授权中心，授权中心首先会获取客户端请求中所带有的身份凭证信息，然后基于这个身份凭证信息生成一个 Token。客户端获取 Token 之后就可以基于这个 Token 发起对微服务的访问。这时候，我们需要对这个 Token 进行认证，并通过授权中心获取该请求所能访问的特定资源。

针对授权，业界最具代表性的就是 OAuth2 协议。而针对授权，采用JWT是目前非常主流的做法。

**授权：OAuth2 协议**

OAuth 2.0 定义了四种授权方式，即密码模式、授权码模式、简化模式和客户端模式。

**认证：JWT 机制**

JWT 是一种表示数据的标准，在安全领域，我们通常用它来传递被认证的用户身份信息，以便从资源服务器获取资源。

